<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="DragDropTouch.js" charset="utf-8"> </script>

    <link rel="stylesheet" href="style3.css">
    <link rel="stylesheet" href="quizstyle.css">

    <script type="text/javascript">
        /* var intervalId = window.setInterval(function() { //run command every 0.5 sec      stop command clearInterval(intervalId)
             run();
             alert("1");
         }, 500);*/
    </script>

    <title>สื่อการสอนภาษา HTML</title>
</head>

<body>
    <div class="NavBar">
        <div onclick="openPopup();" class="dropdownHeader">
            <div>⏷ บทที่ 3 แท็กภาษา HTML 2</div>
        </div>
        <div id="classDropdown" class="classDropdown">
            <div onclick="window.location.href = 'index.html'" class="dropdownBList">
                หน้าหลัก
            </div>
            <div onclick="window.location.href = 'info1.html'" class="dropdownBList">
                บทที่ 1 ความรู้เบื้องต้น เรื่อง เว็บเพจและภาษา HTML
            </div>
            <div onclick="window.location.href = 'info2.html'" class="dropdownBList">
                บทที่ 2 โครงสร้างภาษา HTML
            </div>
            <div onclick="window.location.href = 'info3.html'" class="dropdownBList">
                บทที่ 3 แท็กภาษา HTML
            </div>
            <div onclick="window.location.href = 'info4.html'" class="dropdownBList">
                บทที่ 4 การจัดรูปแบบเว็บเพจด้วยภาษา HTML และภาษา CSS
            </div>
            <div onclick="window.location.href = 'csand.html'" class="dropdownBList">
                เขียนโค้ด
            </div>
        </div>

        <div style="display: flex; flex-direction: row; height: 100%;">
            <div class="dropdownHeader" onclick="window.location.href = 'info3_3.html'" style="margin-right: 10px;">
                <div>กลับ ⯇</div>
            </div>
            <div class="dropdownHeader" onclick="window.location.href = 'sand3_2.html'">
                <div>หน้าต่อไป ⯈</div>
            </div>
        </div>
    </div>

    <div class="gridContainer">
        <div class="conright2" id="gridItem1">
            <div class="headerRight">โค้ดคำสั่ง</div>
            <div class="codeRed">
                <div id="conrightC1">

                    <div class="list2" id="L1C1">
                        <div class="listItem1">&lt;<div class="listE1">html</div>&gt;</div>
                        <div id="conrightE" class="conrightA">

                            <div class="list2" id="L3C1">
                                <div>&lt;<div class="listE2">body</div>&gt;</div>
                                <div id="conrightE2B" class="conrightA2"></div>
                                
                                <div>&lt;&#47;<div class="listE2">body</div>&gt;</div>
                            </div>

                        </div>
                        <div class="listItem1">&lt;&#47;<div class="listE1">html</div>&gt;</div>
                    </div>


                </div>
            </div>
        </div>

        <div class="conans" id="gridItem2">
            <div class="headerAns" id="headerAns">
                ผลลัพธ์
            </div>
            <p id="show1"></p>
        </div>

        <div class="conconleft" id="gridItem3">
            <div class="headerBlock">บล็อกคำสั่ง</div>
            <div id="conleft">

                <div class="list1 listE3 listE2I" id="L5C1" draggable="true">
                    <div>
                        &lt;p&gt;
                        <input type="text" id="textL5C1" onkeyup="run();" value="Hello World" class="text">
                        &lt;&#47;p&gt;
                    </div>
                    <div class="Ldescription">แท็กกำหนดย่อหน้า</div>
                </div>
                <div class="list1 listE3 listE2I" id="L6C1" draggable="true">
                    <div>
                        &lt;img <div class="imgText">src=&#34;ball.jpg&#34; </div>&gt;
                        &lt;&#47;img&gt;
                    </div>

                    <div class="Ldescription">แท็กแทรกรูปภาพ</div>
                </div>

                <div class="list1 listE3 listE2I" id="L7C1" draggable="true">
                    <div>
                        <div>
                            &lt;a href = " <input type="text" id="textL7C1" onkeyup="run();"
                                value="https://www.google.co.th" class="textL7C1"> " &gt;
                            <input type="text" id="textL7C2" onkeyup="run();" value="ไปสู่เว็บไซต์" class="text">
                            &lt;&#47;a&gt;
                        </div>
                    </div>
                    <div class="Ldescription">แท็กแทรกลิงก์ไปสู่เว็บเพจ</div>
                </div>

                <div class="list1 listE3 listE2I" id="L8C1" draggable="true">
                    <div>
                        <div>
                            &lt;h1&gt;
                            <input type="text" id="textL8C1" onkeyup="run();" value="Hello World" class="text">
                            &lt;&#47;h1&gt;
                        </div>
                    </div>
                    <div class="Ldescription">แท็กแทรกหัวเรื่องใหญ่</div>
                </div>
            </div>
        </div>
    </div>

    <!--  Nav Dropdown Menu -->
    <script>
        function openPopup() {
            var dropdown = document.getElementById("classDropdown");
            dropdown.classList.toggle("openDropdown");
        }

    </script>
    <!--  Nav Dropdown Menu -->

    <!-- DragDrop Stuff -->
    <script>
        let lists1 = document.getElementsByClassName("list1");
        let rightBox = document.getElementById("conrightC1");
        let rightBoxE = document.getElementById("conrightE");
        let rightBoxE2B = document.getElementById("conrightE2B");
        let rightBoxE3 = document.getElementById("conrightE3");
        let rightBoxE4 = document.getElementById("conrightE4");
        let leftBox = document.getElementById("conleft");

        for (list1 of lists1) {
            list1.addEventListener("dragstart", function (e) {
                let selected = e.target;

                rightBox.addEventListener("dragover", function (e) {
                    e.preventDefault();
                });
                rightBox.addEventListener("drop", function (e) {
                    if (selected.id == "L1C1" && rightBox.childElementCount < 10) {
                        rightBox.appendChild(selected);
                        selected = null;
                        run();
                    } else selected = null;
                });

                leftBox.addEventListener("dragover", function (e) {
                    e.preventDefault();
                });
                leftBox.addEventListener("drop", function (e) {
                    leftBox.appendChild(selected);
                    selected = null;
                    run();
                });

                list1.addEventListener("dragover", function (e) {
                    e.preventDefault();
                });
                rightBoxE.addEventListener("drop", function (e) {
                    if ((selected.id == "L2C1" || selected.id == "L3C1") && rightBoxE.childElementCount < 10) { //limit item in continer 
                        rightBoxE.appendChild(selected);
                        selected = null;
                        run();
                    } else {
                        selected = null;
                    }
                });

                list1.addEventListener("dragover", function (e) {
                    e.preventDefault();
                });
                rightBoxE2B.addEventListener("drop", function (e) {
                    if ((selected.id == "L5C1" || selected.id == "L6C1" || selected.id == "L7C1" || selected.id == "L8C1") && rightBoxE2B.childElementCount < 10) { //limit item in continer 
                        rightBoxE2B.appendChild(selected);
                        selected = null;
                        run();
                    } else {
                        selected = null;
                    }
                });

                list1.addEventListener("dragover", function (e) {
                    e.preventDefault();
                });
            })
        }

        function run() {
            let textApp = '';

            let headerAns = document.getElementById("headerAns");

            let textL4C1 = document.getElementById("textL4C1");
            let textL5C1 = document.getElementById("textL5C1");
            let textL6C1 = document.getElementById("L6C1");
            var textDiv = textL5C1.value;
            var textImg = '<img src="ball.jpg" alt="" height="300px">';

            let textL7C1 = document.getElementById("textL7C1");
            let textL7C2 = document.getElementById("textL7C2");
            var textLink1 = textL7C1.value;
            var textLink2 = textL7C2.value;

            let textL8C1 = document.getElementById("textL8C1");
            var textH1 = textL8C1.value;

            const contains = (parent, child) => {
                return parent !== child && parent.contains(child);
            }

            if (contains(rightBox, rightBoxE) || contains(rightBox, rightBoxE2B)) {

                if (contains(rightBoxE, rightBoxE2B)) {
                    if (contains(rightBoxE2B, textL5C1)) {
                        textApp = textApp.concat('<div style="font-size: 20px;">', textDiv, '</div>');
                    }
                    if (contains(rightBoxE2B, textL6C1)) {
                        textApp = textApp.concat(textImg);
                    }
                    if (contains(rightBoxE2B, textL7C1)) {
                        textApp = textApp.concat('<a href="',textLink1,'" target="_blank" style="font-size: 30px; display:block;">',textLink2,'</a>');
                    }
                    if (contains(rightBoxE2B, textL8C1)) {
                        textApp = textApp.concat('<h1 style = "font-size: 40px;">', textH1, '</h1>');
                    }
                }

            }

            // if (rightBoxE.querySelector("#L2C1") != null)
            //     textApp = textApp.concat("background-color:", text1, ";");

            // textApp = textApp.concat('"');
            show(textApp);
        }

        function show(a) {
            let show1 = document.getElementById("show1");

            var strHTML1 = '';
            strHTML1 = strHTML1.concat(a);

            //version 1 - innerHTML
            show1.innerHTML = strHTML1;
        }





        // let listE1 = document.getElementById("L1C1");

        // if (contains(rightBox, rightBoxE)) {
        //     listE1.classList.add("listE1I");
        // }
        // else {
        //     listE1.classList.remove("listE1I");
        // }

        // if (rightBoxE.childElementCount > 0) rightBoxE.style.background = '#96d4e9';
        // else rightBoxE.style.background = 'white';

        // if (rightBox.childElementCount > 0) rightBox.style.background = '#90dfb5';
        // else rightBox.style.background = 'white';
        // }
    </script>
    <!-- DragDrop Stuff -->
</body>


</html>