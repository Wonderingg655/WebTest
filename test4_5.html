<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="DragDropTouch.js" charset="utf-8"> </script>

    <link rel="stylesheet" href="style4.css">
    <link rel="stylesheet" href="quizstyle.css">

    <script src="js_css/jquery-3.5.1.min.js"></script>

    <script type="text/javascript">
        /* var intervalId = window.setInterval(function() { //run command every 0.5 sec      stop command clearInterval(intervalId)
             run();
             alert("1");
         }, 500);*/
    </script>

    <title>Web Game</title>
</head>

<body>
    <div class="blurBGAns" id="idblurBGAns"></div>

    <div class="popupAns" id="popupID2Ans">
        <div id="showAns1"></div>
        <div id="showAns2"></div>
        <div id="showAns3" onclick="window.location.href = 'test4.html'"></div>
        <div id="showAns4" onclick="window.location.href = 'csand.html'"></div>
    </div>

    <div class="NavBar">
        <div onclick="openPopup();" class="dropdownHeader">
            ⏷ บทที่ 4 การจัดรูปแบบเว็บเพจด้วยภาษา HTML
        </div>
        <div id="classDropdown" class="classDropdown">
            <div onclick="window.location.href = 'info1.html'">
                บทที่ 1 ความรู้เบื้องต้นภาษา HTML
            </div>
            <div onclick="window.location.href = 'info2.html'">
                บทที่ 2 คำสั่งภาษา HTML 1
            </div>
            <div onclick="window.location.href = 'info3.html'">
                บทที่ 3 คำสั่งภาษา HTML 2
            </div>
            <div onclick="window.location.href = 'info4.html'">
                บทที่ 4 การจัดรูปแบบเว็บเพจด้วยภาษา HTML
            </div>
            <div onclick="window.location.href = 'csand.html'">
                เขียนโค้ด
            </div>
        </div>

        <div class="dropdownHeader" onclick="checkAns()">
            ส่งคำตอบ ⯈
        </div>
    </div>

    <div class="gridContainer">
        <div class="conright2" id="gridItem1">
            <div class="headerRight">โค้ดคำสั่ง</div>
            <div class="codeRed">
                <div id="conrightC1">

                    <div class="list2" id="L1C1">
                        <div class="listItem1">&lt;<div class="listE1">html</div>&gt;</div>
                        <div id="conrightE" class="conrightA">

                            <div class="list2" id="L3C1">
                                <div>&lt;<div class="listE2">body</div>&gt;</div>
                                <div id="conrightE2B" class="conrightA2"></div>
                                <div>&lt;&#47;<div class="listE2">body</div>&gt;</div>
                            </div>

                        </div>
                        <div class="listItem1">&lt;&#47;<div class="listE1">html</div>&gt;</div>
                    </div>


                </div>
            </div>
        </div>

        <div class="conans" id="gridItem2">
            <div class="headerAns" id="headerAns">
                ข้อที่ 5
            </div>
            <div class="gridTest" style="padding: 50px;">
                <div class="gridQuestion">ให้นักเรียนแทรกข้อความที่มีพื้นหลังสีเทา และอยู่ตรงกลาง ดังภาพ
                    <div style="margin-top: 20px; font-size: 30px;background-color:grey;text-align:center;">Hello World
                    </div>
                </div>
            </div>
        </div>

        <div class="conconleft" id="gridItem3">
            <div class="headerBlock">บล็อกคำสั่ง</div>
            <div id="conleft">

                <div class="list1 listE3 listE2I" id="L5C1" draggable="true">
                    <div>
                        <div>&lt;div <div id="conrightE3"></div> &gt; </div>
                        <input type="text" id="textL5C1" onkeyup="run();" value="Hello World">
                        <div>&lt;/div&gt;</div>
                    </div>
                    <div class="Ldescription hidden">คำสั่งแทรกกล่องข้อความ</div>
                </div>

                <div class="list1 listE4" id="L8C1" draggable="true">
                    <div>
                        style = "
                        <div id="conrightEStyle"></div> "
                    </div>
                    <div class="Ldescription hidden">คำสั่งตกแต่งเว็บเพจ</div>
                </div>

                <div class="list1 listE5" id="L9C1" draggable="true">
                    background-color:
                    <select id="DropdownMenu1" onchange="run();">
                        <option>Black</option>
                        <option selected="selected">Grey</option>
                        <option>White</option>
                        <option>Red</option>
                        <option>Pink</option>
                        <option>Orange</option>
                        <option>Yellow</option>
                        <option>Green</option>
                        <option>Aqua</option>
                        <option>Blue</option>
                        <option>Purple</option>
                    </select>&nbsp;; <br>
                    <p class="Ldescription hidden">เปลี่ยนสีพื้นหลัง</p>
                </div>

                <div class="list1 listE5" id="L10C1" draggable="true">
                    color:
                    <select id="DropdownMenu2" onchange="run();">
                        <option>Black</option>
                        <option selected="selected">Grey</option>
                        <option>White</option>
                        <option>Red</option>
                        <option>Pink</option>
                        <option>Orange</option>
                        <option>Yellow</option>
                        <option>Green</option>
                        <option>Aqua</option>
                        <option>Blue</option>
                        <option>Purple</option>
                    </select>&nbsp;; <br>
                    <p class="Ldescription hidden">เปลี่ยนสีตัวอักษร</p>
                </div>

                <div class="list1 listE5" id="L11C1" draggable="true">
                    text-align:
                    <select id="DropdownMenu3" onchange="run();">
                        <option>left</option>
                        <option selected="selected">center</option>
                        <option>right</option>
                    </select>&nbsp;; <br>
                    <p class="Ldescription hidden">จัดตำแหน่งอักษร</p>
                </div>

                <div class="list1 listE5" id="L12C1" draggable="true">
                    font-size:
                    <input type="text" id="DropdownMenu4" onkeyup="run();" value="50px">
                    &nbsp;; <br>
                    <p class="Ldescription hidden">ปรับขนาดตัวอักษร</p>
                </div>
            </div>
        </div>
    </div>

    <!--  Nav Dropdown Menu -->
    <script>
        function openPopup() {
            var dropdown = document.getElementById("classDropdown");
            dropdown.classList.toggle("openDropdown");
        }

    </script>
    <!--  Nav Dropdown Menu -->

    <!-- DragDrop Stuff -->
    <script>
        let lists1 = document.getElementsByClassName("list1");
        let rightBox = document.getElementById("conrightC1");
        let rightBoxE = document.getElementById("conrightE");
        let rightBoxE2B = document.getElementById("conrightE2B");
        let rightBoxE3 = document.getElementById("conrightE3");
        let rightBoxE4 = document.getElementById("conrightE4");
        let rightBoxEStyle = document.getElementById("conrightEStyle");
        let leftBox = document.getElementById("conleft");

        for (list1 of lists1) {
            list1.addEventListener("dragstart", function (e) {
                let selected = e.target;

                rightBox.addEventListener("dragover", function (e) {
                    e.preventDefault();
                });
                rightBox.addEventListener("drop", function (e) {
                    if (selected.id == "L1C1" && rightBox.childElementCount < 10) {
                        rightBox.appendChild(selected);
                        selected = null;
                        run();
                    } else selected = null;
                });

                leftBox.addEventListener("dragover", function (e) {
                    e.preventDefault();
                });
                leftBox.addEventListener("drop", function (e) {
                    leftBox.appendChild(selected);
                    selected = null;
                    run();
                });

                list1.addEventListener("dragover", function (e) {
                    e.preventDefault();
                });
                rightBoxE.addEventListener("drop", function (e) {
                    if ((selected.id == "L2C1" || selected.id == "L3C1") && rightBoxE.childElementCount < 10) { //limit item in continer 
                        rightBoxE.appendChild(selected);
                        selected = null;
                        run();
                    } else {
                        selected = null;
                    }
                });

                list1.addEventListener("dragover", function (e) {
                    e.preventDefault();
                });
                rightBoxE2B.addEventListener("drop", function (e) {
                    if ((selected.id == "L5C1" || selected.id == "L6C1" || selected.id == "L8C1" || selected.id == "L9C1" || selected.id == "L10C1" || selected.id == "L11C1" || selected.id == "L12C1" || selected.id == "L13C1" || selected.id == "L14C1" || selected.id == "L15C1") && rightBoxE2B.childElementCount < 10) { //limit item in continer 
                        rightBoxE2B.appendChild(selected);
                        selected = null;
                        run();
                    } else {
                        selected = null;
                    }
                });

                list1.addEventListener("dragover", function (e) {
                    e.preventDefault();
                });
                rightBoxE3.addEventListener("drop", function (e) {
                    if ((selected.id == "L8C1" || selected.id == "L9C1" || selected.id == "L10C1" || selected.id == "L11C1" || selected.id == "L12C1" || selected.id == "L13C1" || selected.id == "L14C1" || selected.id == "L15C1") && rightBoxE3.childElementCount < 10) { //limit item in continer 
                        rightBoxE3.appendChild(selected);
                        selected = null;
                        run();
                    } else {
                        selected = null;
                    }
                });

                list1.addEventListener("dragover", function (e) {
                    e.preventDefault();
                });
                rightBoxEStyle.addEventListener("drop", function (e) {
                    if ((selected.id == "L9C1" || selected.id == "L10C1" || selected.id == "L11C1" || selected.id == "L12C1" || selected.id == "L13C1" || selected.id == "L14C1" || selected.id == "L15C1") && rightBoxEStyle.childElementCount < 10) { //limit item in continer 
                        rightBoxEStyle.appendChild(selected);
                        selected = null;
                        run();
                    } else {
                        selected = null;
                    }
                });

            })
        }

        let textAns = '';

        function run() {
            let textApp = '';

            let headerAns = document.getElementById("headerAns");
            var textDiv = textL5C1.value;
            var textStyle = '';
            var textImg = '<img src="ball.jpg" alt="" height="300px">';

            var text1 = DropdownMenu1.options[DropdownMenu1.selectedIndex].text;
            var text2 = DropdownMenu2.options[DropdownMenu2.selectedIndex].text;
            var text3 = DropdownMenu3.options[DropdownMenu3.selectedIndex].text;
            var text4 = DropdownMenu4.value;

            const contains = (parent, child) => {
                return parent !== child && parent.contains(child);
            }

            if (contains(conrightE2B, rightBoxE3)) {
                if (contains(rightBoxE3, rightBoxEStyle)) {
                    if (contains(rightBoxEStyle, DropdownMenu1))
                        textStyle = textStyle.concat("background-color:", text1, ";");
                    if (contains(rightBoxEStyle, DropdownMenu2))
                        textStyle = textStyle.concat("color:", text2, ";");
                    if (contains(rightBoxEStyle, DropdownMenu3))
                        textStyle = textStyle.concat("text-align:", text3, ";");
                    if (contains(rightBoxEStyle, DropdownMenu4))
                        textStyle = textStyle.concat("font-size:", text4, ";");
                }
                textApp = textApp.concat('<div style=" font-size: 30px;', textStyle, '"></div>');
                textAns = textApp;
            }
        }

        function checkAns() {
            if (textAns == '<div style=" font-size: 30px;background-color:Grey;text-align:center;"></div>' || textAns == '<div style=" font-size: 30px;text-align:center;background-color:Grey;"></div>')
                openPopupAns("correct");
            else
                openPopupAns("false");

        }

        function show(a) {
            let show1 = document.getElementById("show1");

            var strHTML1 = '';
            strHTML1 = strHTML1.concat(a);

            //version 1 - innerHTML
            show1.innerHTML = strHTML1;
        }

        function openPopupAns(ac) {
            var popupID2Ans = document.getElementById("popupID2Ans");
            var idblurBGAns = document.getElementById("idblurBGAns");
            var showAns1 = document.getElementById("showAns1");
            var showAns2 = document.getElementById("showAns2");
            var showAns3 = document.getElementById("showAns3");
            popupID2Ans.classList.add("open-popupAns");
            idblurBGAns.classList.add("open-BGAns");

            if (ac == "correct") {
                showAns1.innerHTML = "<img src='chec.jpg' class='ImgAns'>";
                showAns2.innerHTML = '<div class="headerTestF headerTestT">ยินดีด้วย<br>คุณผ่านการเรียนรู้<br>บทที่ 4 การจัดรูปแบบเว็บเพจด้วยภาษา HTML<br>คะแนน 5/5 <br></div> ';
                showAns4.innerHTML = "<div class='buttonTestF buttonTestT'>▷ เขียนโค้ด</div>";
            } else {
                showAns1.innerHTML = "<img src='exx.jpg' class='ImgAns'>";
                showAns2.innerHTML = "<div class='headerTestF'>ผิด</div>";
                showAns3.innerHTML = "<div class='buttonTestF'>⟳ เริ่มใหม่</div>";
            }
        }

    </script>
    <!-- DragDrop Stuff -->
</body>


</html>